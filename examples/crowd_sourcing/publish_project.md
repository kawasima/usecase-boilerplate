# 案件を公開する

**コンテキスト**: <必要であればコンテキストをもう少し長く記述する。一般に起きる条件>

**スコープ**: クラウドソーシングサービス

**レベル**: ユーザ目的

**主アクター**: クラウドソーシングサービス

**利害関係者と利益**: サービス管理者

**事前条件**: なし

**最低保証**: なし

**成功時保証**: 案件が公開され、検索・閲覧可能な状態になる。

**トリガー**:　現在日付が未公開の案件の募集開始日以降になる。

## 主成功シナリオ

1. クラウドソーシングサービスは、以下の条件に合致する案件をすべて検索する。
   - 未公開である
   - 現在日付が募集開始日よりも後である。
   - 現在日付が募集終了日よりも前である。
1. クラウドソーシングサービスは、1で抽出した案件すべてについて公開状態にする。

## 拡張

- 1a. 案件が1つも該当しない
    - 1a1. クラウドソーシングサービスは、サービス管理者に該当0件である旨を通知して以降のステップをスキップする。
- 2a. 案件の公開に失敗する
    - 2a1. クラウドソーシングサービスは、失敗した案件はスキップしステップを継続する。
    - 2a2. すべての公開処理が成功/失敗にかかわらず完了したら、クラウドソーシングサービスは失敗した案件のリストを作ってサービス管理者に通知する。

## 関連情報

###　公開状態にするとは…

案件検索用のインデックスに、案件を登録し、クラウドソーシングの案件検索機能から検索可能にすることである。